{"version":3,"sources":["../../../../node_modules/sanity/src/structure/panes/userComponent/UserComponentPaneContent.tsx","../../../../node_modules/sanity/src/structure/panes/userComponent/UserComponentPaneHeader.tsx","../../../../node_modules/sanity/src/structure/panes/userComponent/UserComponentPane.tsx"],"sourcesContent":["import {Box} from '@sanity/ui'\nimport {type ReactNode} from 'react'\nimport {styled} from 'styled-components'\n\nimport {usePane} from '../../components'\n\ninterface UserComponentPaneContentProps {\n  children: ReactNode\n}\n\nconst Root = styled(Box)`\n  position: relative;\n`\n\nexport function UserComponentPaneContent(props: UserComponentPaneContentProps) {\n  const {children} = props\n  const {collapsed} = usePane()\n\n  return (\n    <Root hidden={collapsed} height=\"fill\" overflow=\"auto\">\n      {children}\n    </Root>\n  )\n}\n","import {ArrowLeftIcon} from '@sanity/icons'\n\nimport {Button} from '../../../ui-components'\nimport {BackLink, PaneHeader, PaneHeaderActions} from '../../components'\nimport {\n  type PaneMenuItem,\n  type PaneMenuItemGroup,\n  type StructureToolPaneActionHandler,\n} from '../../types'\nimport {useStructureTool} from '../../useStructureTool'\n\ninterface UserComponentPaneHeaderProps {\n  actionHandlers?: Record<string, StructureToolPaneActionHandler>\n  index: number\n  menuItems?: PaneMenuItem[]\n  menuItemGroups?: PaneMenuItemGroup[]\n  title: string\n}\n\nexport function UserComponentPaneHeader(props: UserComponentPaneHeaderProps) {\n  const {actionHandlers, index, menuItems, menuItemGroups, title} = props\n  const {features} = useStructureTool()\n\n  if (!menuItems?.length && !title) {\n    return null\n  }\n\n  return (\n    <PaneHeader\n      actions={\n        <PaneHeaderActions\n          menuItems={menuItems}\n          menuItemGroups={menuItemGroups}\n          actionHandlers={actionHandlers}\n        />\n      }\n      backButton={\n        features.backButton &&\n        index > 0 && (\n          <Button\n            as={BackLink}\n            data-as=\"a\"\n            icon={ArrowLeftIcon}\n            mode=\"bleed\"\n            tooltipProps={{content: 'Back'}}\n          />\n        )\n      }\n      title={title}\n    />\n  )\n}\n","import {isValidElement, useState} from 'react'\nimport {isValidElementType} from 'react-is'\nimport {useI18nText} from 'sanity'\n\nimport {Pane} from '../../components'\nimport {type StructureToolPaneActionHandler} from '../../types'\nimport {type BaseStructureToolPaneProps} from '../types'\nimport {UserComponentPaneContent} from './UserComponentPaneContent'\nimport {UserComponentPaneHeader} from './UserComponentPaneHeader'\n\ntype UserComponentPaneProps = BaseStructureToolPaneProps<'component'>\n\n/**\n * @internal\n */\nexport function UserComponentPane(props: UserComponentPaneProps) {\n  const {index, pane, paneKey, ...restProps} = props\n  const {\n    child,\n    component: UserComponent,\n    menuItems,\n    menuItemGroups,\n    type: _unused,\n    ...restPane\n  } = pane\n  const [ref, setRef] = useState<{\n    actionHandlers?: Record<string, StructureToolPaneActionHandler>\n  } | null>(null)\n  const {title = ''} = useI18nText(pane)\n\n  const {key, ...componentProps} = {...restProps, ...restPane}\n\n  return (\n    <Pane id={paneKey} minWidth={320} selected={restProps.isSelected}>\n      <UserComponentPaneHeader\n        actionHandlers={ref?.actionHandlers}\n        index={index}\n        menuItems={menuItems}\n        menuItemGroups={menuItemGroups}\n        title={title}\n      />\n\n      <UserComponentPaneContent>\n        {isValidElementType(UserComponent) && (\n          <UserComponent\n            key={key}\n            {...componentProps}\n            // NOTE: here we're utilizing the function form of refs so setting\n            // the ref causes a re-render for `UserComponentPaneHeader`\n            ref={setRef as any}\n            child={child}\n            paneKey={paneKey}\n          />\n        )}\n        {isValidElement(UserComponent) && UserComponent}\n      </UserComponentPaneContent>\n    </Pane>\n  )\n}\n"],"names":["Root","styled","Box","UserComponentPaneContent","props","$","_c","children","collapsed","usePane","t0","UserComponentPaneHeader","actionHandlers","index","menuItems","menuItemGroups","title","features","useStructureTool","length","t1","backButton","BackLink","ArrowLeftIcon","content","t2","UserComponentPane","pane","paneKey","restProps","UserComponent","child","restPane","component","t3","type","_unused","t4","ref","setRef","useState","useI18nText","undefined","componentProps","key","isValidElementType","isValidElement","t5","t6","isSelected"],"mappings":"4KAUA,IAAMA,EAAAA,CAAAA,EAAOC,EAAAA,MAAAA,EAAOC,EAAAA,GAAG,CAAA,CAAA;;AAAA,CAAA,CAIhB,SAAAC,EAAAC,CAAAA,EAAA,IAEwBM,EAFxBL,EAAAA,CAAAA,EAAAC,EAAAA,CAAAA,EAAA,CAAA,EACL,UAAAC,CAAAA,CAAAA,CAAmBH,EACnB,WAAAI,CAAAA,CAAAA,CAAAA,CAAAA,EAAoBC,EAAAA,OAAAA,CAAAA,GAAS,OAAAJ,CAAAA,CAAA,CAAA,CAAA,GAAAE,GAAAF,CAAAA,CAAAA,EAAAA,GAAAG,GAG3BE,EAAAA,CAAAA,EAAAA,EAAAA,EAH2BF,CAG3BE,EAAC,EAAA,CAAaF,GAAdE,IAAcF,EAAkB,OAAA,OAAgB,SAAA,gBAAA,CAAA,CAEhD,EAAOH,CAAAA,CAAAA,EAAAA,CAAAE,EAAAF,CAAAA,CAAAA,EAAAA,CAAAG,EAAAH,CAAAA,CAAAA,EAAAA,CAAAK,CAAAA,CAAAA,CAAAA,EAAAL,CAAAA,CAAA,CAAA,CAAA,CAFPK,CAEO,CCFJ,SAAAC,EAAAP,CAAAA,EAAA,IAMJM,EASOU,EAYDK,EA3BFpB,EAAAA,CAAAA,EAAAC,EAAAA,CAAAA,EAAA,EAAA,EACL,gBAAAM,CAAAA,OAAAC,CAAAA,CAAAC,WAAAA,CAAAC,gBAAAA,OAAAC,CAAAA,CAAAA,CAAkEZ,EAClE,UAAAa,CAAAA,CAAAA,CAAAA,CAAAA,EAAmBC,EAAAA,gBAAAA,CAAAA,UAEnB,AAAI,AAACJ,GAASK,QAAaH,EAAvB,CAEHX,CAAAA,CAAA,CAAA,CAF+B,AAE/B,GAAAO,GAAAP,CAAAA,CAAAA,EAAAA,GAAAU,GAAAV,CAAAA,CAAA,CAAA,CAAA,GAAAS,GAKKJ,EAAAA,CAAAA,EAAAA,EAAAA,EALLI,CAKKJ,EAAC,EAAA,IAADA,aAAC,CAAA,WACYI,iBACKC,iBACAH,CAAAA,CAAc,EAC9BP,CAAAA,CAAAA,EAAAA,CAAAO,EAAAP,CAAAA,CAAAA,EAAAA,CAAAU,EAAAV,CAAAA,CAAAA,EAAAA,CAAAS,EAAAT,CAAAA,CAAAA,EAAAA,CAAAK,CAAAA,CAAAA,CAAAA,EAAAL,CAAAA,CAAA,CAAA,CAAA,CAAAA,CAAAA,CAAAA,EAAAA,GAAAY,EAAAI,UAAAA,EAAAhB,CAAAA,CAAAA,EAAAA,GAAAQ,GAGFO,EAAAH,EAAQI,CAHNR,SAGMQ,EACRR,EAAQ,GACN,CAAA,CAAA,CAAA,EAAA,GAAA,EAAC,EAAA,GAAD,GAAC,CAAA,CACKS,GAAAA,EAAAA,QAAAA,CACI,UAAA,IACFC,KAAAA,EAAAA,aAAAA,CACD,KAAA,QACS,aAAA,CAAAC,QAAU,MAAA,CAAA,CAAO,EAElCnB,CAAAA,CAAA,CAAA,CAAA,CAAAY,EAAAI,UAAAA,CAAAhB,CAAAA,CAAAA,EAAAA,CAAAQ,EAAAR,CAAAA,CAAAA,EAAAA,CAAAe,CAAAA,CAAAA,CAAAA,EAAAf,CAAAA,CAAA,CAAA,CAAA,CAAAA,CAAAA,CAAA,CAAA,CAAA,GAAAK,GAAAL,CAAAA,CAAAA,EAAAA,GAAAe,GAAAf,CAAAA,CAAA,CAAA,CAAA,GAAAW,GAlBLS,EAAAA,CAAAA,EAkBKT,AAlBLS,EAAAA,GAAAA,EAAC,EAAA,IAADA,MAAC,CAAA,CAEG,QAAAf,EAOA,WAAAU,QAWKJ,CAAAA,CAAK,EACZX,CAAAA,CAAAA,EAAAA,CAAAK,EAAAL,CAAAA,CAAAA,EAAAA,CAAAe,EAAAf,CAAAA,CAAAA,EAAAA,CAAAW,EAAAX,CAAAA,CAAAA,GAAAA,CAAAoB,CAAAA,CAAAA,CAAAA,EAAApB,CAAAA,CAAA,EAAA,CAAA,CArBFoB,GAJO,IAyBL,CClCC,SAAAC,EAAAtB,CAAAA,EAAA,IAAAS,EAAAc,EAAAC,EAAAC,EAC6CC,EAAAC,EAAAhB,EAAAD,EAAAkB,EAYjCW,EAAAC,EAOwBnB,EAKnCS,EAaCG,EAC8CU,EACtBC,EAxC1B3C,EAAAA,CAAAA,EAAAC,EAAAA,CAAAA,EAAA,EAAA,EAC6C,GAD7CD,CAAAA,CAAAA,EAAAA,GAAAD,GACL,KADKA,EACLS,CAAAA,MAAAc,CAAAA,SAAAC,CAAAA,CAAA,GAAAC,EAAAA,CAA6CzB,EAAKC,CAAAA,CAAAA,EAAAA,CAAAD,EAAAC,CAAAA,CAAAA,EAAAA,CAAAQ,EAAAR,CAAAA,CAAAA,EAAAA,CAAAsB,EAAAtB,CAAAA,CAAAA,EAAAA,CAAAuB,EAAAvB,CAAAA,CAAAA,EAAAA,CAAAwB,CAAAA,CAAAA,EAAAhB,EAAAR,AAAAwB,CAAAxB,CAAA,CAAA,CAAA,CAAAsB,EAAAtB,CAAAA,CAAA,CAAA,CAAA,CAAAuB,EAAAvB,CAAAA,CAAA,CAAA,CAAA,CAAAwB,EAAAxB,CAAAA,CAAA,EAAA,EAAAA,CAAAA,CAAAA,EAAAA,GAAAsB,EAAA,CAClD,GAAA,CAAAI,MAAArB,CAAAA,CAAAuB,UAAAb,CAAAA,CAAAN,UAAAW,CAAAA,CAAAV,eAAAmB,CAAAA,CAAAC,KAAAC,CAAAA,CAAA,GAAAC,EAAAA,CAOIV,EAPJI,EAAArB,EAAAoB,EAAAV,EAAAN,EAAAW,EAAAV,EAAAmB,EAAAF,EAAAK,EAOQhC,CAAAA,CAAAA,EAAAA,CAAAsB,EAAAtB,CAAAA,CAAAA,EAAAA,CAAAyB,EAAAzB,CAAAA,CAAAA,EAAAA,CAAA0B,EAAA1B,CAAAA,CAAAA,EAAAA,CAAAU,EAAAV,CAAAA,CAAAA,EAAAA,CAAAS,EAAAT,CAAAA,CAAAA,GAAAA,CAAA2B,CAAA,MAAAF,EAAAzB,CAAAA,CAAA,CAAA,CAAA,CAAA0B,EAAA1B,CAAAA,CAAA,CAAA,CAAA,CAAAU,EAAAV,CAAAA,CAAA,CAAA,CAAA,CAAAS,EAAAT,CAAAA,CAAA,CAAA,CAAA,CAAA2B,EAAA3B,CAAAA,CAAA,EAAA,CAAA,CACR,GAAA,CAAAiC,EAAAC,EAAA,CAAA,CAAA,EAAA,AAAsBC,EAAAA,QAAAA,EAEZ,IAAI,EACd,CAAAxB,MAAAN,CAAAA,CAAAA,CAAAA,CAAAA,EAAqB+B,EAAAA,WAAAA,EAAYd,GAA1BX,CAA8B,CAA9B0B,KAAAA,IAAAhC,EAAA,GAAAA,EAAUL,CAAAA,CAAA,EAAA,CAAA,GAAA2B,GAAA3B,CAAAA,CAAAA,GAAAA,GAAAwB,GAEjB,KAAAe,CAAAA,CAAA,EAFiBf,CAEjBc,EAAAA,CAAiC,CAAA,GAAId,CAAAA,CAAS,GAAKG,CAAAA,EAAS3B,CAAAA,CAAAA,GAAAA,CAAA2B,EAAA3B,CAAAA,CAAAA,GAAAA,CAAAwB,EAAAxB,CAAAA,CAAAA,GAAAA,CAAAsC,EAAAtC,CAAAA,CAAAA,GAAAA,CAAAuC,CAAAA,CAAAA,EAAAD,EAAAC,AAAAvC,CAAAA,CAAA,EAAA,CAAA,CAAAuC,EAAAvC,CAAAA,CAAA,GAAA,EAKtC,IAAAe,EAAAkB,GAAG1B,eAoBM,OApBUP,CAAAA,CAAA,EAAA,CAAA,GAAAQ,GAAAR,CAAAA,CAAA,EAAA,CAAA,GAAAU,GAAAV,CAAAA,CAAA,EAAA,CAAA,GAAAS,GAAAT,CAAAA,CAAA,EAAA,CAAA,GAAAe,GAAAf,CAAAA,CAAAA,GAAAA,GAAAW,GADrCS,EAAA,CAAA,EACqCT,AADrC,EAAA,GAAA,EAAC,EAAA,CACiB,GADlB,YACkBI,QACTP,YACIC,iBACKC,QACTC,CAAAA,CAAK,EACZX,CAAAA,CAAAA,GAAAA,CAAAQ,EAAAR,CAAAA,CAAAA,GAAAA,CAAAU,EAAAV,CAAAA,CAAAA,GAAAA,CAAAS,EAAAT,CAAAA,CAAAA,GAAAA,CAAAe,EAAAf,CAAAA,CAAAA,GAAAA,CAAAW,EAAAX,CAAAA,CAAAA,GAAAA,CAAAoB,CAAAA,CAAAA,CAAAA,EAAApB,CAAAA,CAAA,EAAA,CAAA,CAAAA,CAAAA,CAAA,EAAA,CAAA,GAAAyB,GAAAzB,CAAAA,CAAA,EAAA,CAAA,GAAA0B,GAAA1B,CAAAA,CAAA,EAAA,CAAA,GAAAsC,GAAAtC,CAAAA,CAAA,EAAA,CAAA,GAAAuC,GAAAvC,CAAAA,CAAAA,GAAAA,GAAAuB,GAGCM,EAAAA,CAAAA,EAAAW,EAHDjB,AAGCiB,kBAAAA,EAAmBf,IAClB,CAAA,EAAA,EAAA,GAAA,CASF,CATG,EAAA,CACS,CADV,EAEMa,CAAAA,CAGC,IAAAJ,KALP,GAMSR,UACEH,CAAAA,EANJgB,GAMW,AAEnBvC,CAAAA,CAAAA,GAAAA,CAAAyB,EAAAzB,CAAAA,CAAAA,GAAAA,CAAA0B,EAAA1B,CAAAA,CAAAA,GAAAA,CAAAsC,EAAAtC,CAAAA,CAAAA,GAAAA,CAAAuC,EAAAvC,CAAAA,CAAAA,GAAAA,CAAAuB,EAAAvB,CAAAA,CAAAA,GAAAA,CAAA6B,CAAAA,CAAAA,CAAAA,EAAA7B,CAAAA,CAAA,EAAA,CAAA,CAAAA,CAAAA,CAAAA,GAAAA,GAAAyB,GACAO,EAAAA,CAAAA,EAAAS,EAAAA,MADAhB,QACAgB,EAAehB,IAAfA,EAA8CzB,CAAAA,CAAAA,GAAAA,CAAAyB,CAAD,CAACzB,CAAAA,CAAAA,GAAAA,CAAAgC,CAAAA,CAAAA,CAAAA,EAAAhC,CAAAA,CAAA,EAAA,CAAA,CAAAA,CAAAA,CAAA,EAAA,CAAA,GAAA6B,GAAA7B,CAAAA,CAAAA,GAAAA,GAAAgC,GAZjDU,EAAA,AAYiDV,AAZjD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,CACEH,EADH,OACGA,CAAAA,EAWAG,EAAAA,CACH,EAA2BhC,CAAAA,CAAAA,GAAAA,CAAA6B,EAAA7B,CAAAA,CAAAA,GAAAA,CAAAgC,EAAAhC,CAAAA,CAAAA,GAAAA,CAAA0C,CAAAA,CAAAA,CAAAA,EAAA1C,CAAAA,CAAA,EAAA,CAAA,CAAAA,CAAAA,CAAA,EAAA,CAAA,GAAAuB,GAAAvB,CAAAA,CAAAA,GAAAA,GAAAwB,EAAAoB,UAAAA,EAAA5C,CAAAA,CAAA,EAAA,CAAA,GAAAoB,GAAApB,CAAAA,CAAAA,GAAAA,GAAA0C,GAtB7BC,EAsB6BD,AAtB7B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,GAAD,CAAC,CAAA,CAASnB,GAAAA,EAAmB,SAAA,IAAe,SAAAC,EAASoB,UAAAA,CACnDxB,SAAAA,CAAAA,EAQAsB,EAAAA,CAcF,EAAO1C,CAAAA,CAAAA,GAAAA,CAAAuB,EAAAvB,CAAAA,CAAA,EAAA,CAAA,CAAAwB,EAAAoB,UAAAA,CAAA5C,CAAAA,CAAAA,GAAAA,CAAAoB,EAAApB,CAAAA,CAAAA,GAAAA,CAAA0C,EAAA1C,CAAAA,CAAAA,GAAAA,CAAA2C,CAAAA,CAAAA,CAAAA,EAAA3C,CAAAA,CAAA,EAAA,CAAA,CAvBP2C,CAuBO"}