(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,80044,e=>{"use strict";var t=e.i(43476),n=e.i(81933),r=e.i(71645),i=e.i(77160),a=e.i(63486),l=e.i(26047),o=e.i(88942),s=e.i(28696),u=e.i(48837),d=e.i(35870),c=e.i(30823),p=e.i(45281),f=e.i(45912),h=e.i(39338),m=e.i(89196),x=e.i(2400),g=e.i(40144),y=e.i(48077),I=e.i(34352),P=e.i(42722),b=e.i(2014),v=e.i(94059),w=e.i(58832),j=e.i(2965),S=e.i(27608),_=e.i(11308),E=e.i(74e3),T=e.i(15321),N=e.i(1391),R=e.i(47912),$=e.i(25917),k=e.i(78491),A=e.i(97053),z=e.i(24019),C=e.i(98892);class D extends Error{constructor({message:e,context:t,helpId:n,cause:r}){super(e),this.name="PaneResolutionError",this.context=t,this.helpId=n,this.cause=r}}let L=new WeakMap;function O(e){let t=L.get(e);if(t)return t;let n=(0,y.nanoid)();return L.set(e,n),n}function M(e){let t,n,r=(t=e((e,t,n)=>{if(!e)throw new D({message:"Pane returned no child",context:t,helpId:"structure-item-returned-no-child"});return e&&"function"==typeof e?.then||(0,f.isObservable)(e)?(0,c.from)(e).pipe((0,I.switchMap)(e=>r(e,t,n))):(0,i.isRecord)(e)&&"function"==typeof e.serialize?r(e.serialize(t),t,n):"function"==typeof e?r(e(t.id,t),t,n):(0,p.of)(e)}),n=(...e)=>t(...e).pipe((0,P.publishReplay)(1),(0,b.refCount)()),(e,t,r)=>{try{return n(e,t,r)}catch(e){throw e instanceof D?e:new D({message:"string"==typeof e?.message?e.message:"",context:t,cause:e})}});return r}let B=new WeakMap;function G(e,t){let n=B.get(e)||new Map;if(n){let e=n.get(t);if(e)return e}let r=e[t];if("function"!=typeof r)throw Error(`Expected property \`${t}\` to be a function but got ${typeof r} instead.`);let i=r.bind(e);return n.set(t,i),B.set(e,n),i}async function W(e){let t=new Map,n=M(e=>(n,r,i)=>{let a=n&&`${O(n)}-${r.path.join("__")}`,l=a&&t.get(a);if(l)return l;let o=e(n,r,i);return a&&t.set(a,o),o}),r=[[{id:`__edit__${e.params.id}`,params:{...(0,d.default)(e.params,["id"]),type:e.params.type},payload:e.payload}]];async function i({currentId:e,flatIndex:t,intent:r,params:a,parent:l,path:o,payload:s,unresolvedPane:u,levelIndex:d,structureContext:c}){if(!u)return[];let{id:p,type:f,...m}=a,x=await (0,h.firstValueFrom)(n(u,{id:e,splitIndex:0,parent:l,path:o,index:t,params:{},payload:void 0,structureContext:c},t));return"document"===x.type&&x.id===p?[{panes:[...o.slice(0,o.length-1).map(e=>[{id:e}]),[{id:p,params:m,payload:s}]],depthIndex:o.length,levelIndex:d}]:x.canHandleIntent?.(r,a,{pane:x,index:t})||"documentList"===x.type&&x.schemaTypeName===f&&"_type == $type"===x.options.filter?[{panes:[...o.map(e=>[{id:e}]),[{id:a.id,params:m,payload:s}]],depthIndex:o.length,levelIndex:d}]:"list"===x.type&&x.child&&x.items?(await Promise.all(x.items.map((e,n)=>"divider"===e.type?Promise.resolve([]):i({currentId:e._id||e.id,flatIndex:t+1,intent:r,params:a,parent:x,path:[...o,e.id],payload:s,unresolvedPane:"function"==typeof x.child?G(x,"child"):x.child,levelIndex:n,structureContext:c})))).flat():[]}let a=(await i({currentId:"root",flatIndex:0,levelIndex:0,intent:e.intent,params:e.params,parent:null,path:[],payload:e.payload,unresolvedPane:e.rootPaneNode,structureContext:e.structureContext})).sort((e,t)=>e.depthIndex===t.depthIndex?e.levelIndex-t.levelIndex:e.depthIndex-t.depthIndex)[0];return a?a.panes:r}let F=(e,t)=>{let n=e.replace(/^__edit__/,""),{params:r,payload:i,structureContext:{resolveDocumentNode:a}}=t,{type:l,template:o}=r;if(!l)throw Error(`Document type for document with ID ${n} was not provided in the router params.`);let s=a({schemaType:l,documentId:n}).id("editor");return o&&(s=s.initialValueTemplate(o,i)),s.serialize()},H=e=>{let t={type:e.type,id:e.routerPaneSibling.id,params:e.routerPaneSibling.params||{},payload:e.routerPaneSibling.payload||null,flatIndex:e.flatIndex,groupIndex:e.groupIndex,siblingIndex:e.siblingIndex,path:e.path,paneNode:"resolvedMeta"===e.type?O(e.paneNode):null};return`metaHash(${JSON.stringify(t)})`};function U(e){return e?.panes||[]}function K(){return new g.ReplaySubject(1)}function V(e){let t=e.reduce(Y,[]),n=t.length,r=e.map(r=>{let{groupIndex:i,flatIndex:a,siblingIndex:o,routerPaneSibling:s,path:u}=r,d=s.id,c=t[i+1];return{active:i===n-2,childItemId:c?.[0].id??null,index:a,itemId:s.id,groupIndex:i,key:`${"loading"===r.type?"unknown":r.paneNode.id}-${d}-${o}`,pane:"loading"===r.type?l.LOADING_PANE:r.paneNode,params:s.params||{},path:u.join(";"),payload:s.payload,selected:a===e.length-1,siblingIndex:o,maximized:!1}});return{paneDataItems:r,routerPanes:t,resolvedPanes:r.map(J)}}function J(e){return e.pane}function Y(e,t){let n=e[t.groupIndex]||[];return n[t.siblingIndex]=t.routerPaneSibling,e[t.groupIndex]=n,e}async function q(e,t,n){if(t&&n)return{id:t,type:n};if(!t&&n)return{id:(0,T.uuid)(),type:n};if(t&&!n){let n=await (0,h.firstValueFrom)(e.resolveTypeForDocument(t));return{id:t,type:n}}throw new D({message:"Neither document `id` or `type` was provided when trying to resolve intent."})}let Q={},X=(0,r.memo)(function(){let e,t,a=(0,n.c)(7),{navigate:o}=(0,s.useRouter)(),u=(0,s.useRouterState)(Z),{rootPaneNode:d,structureContext:c}=(0,l.useStructureTool)(),p=(0,i.useDocumentStore)(),[f,h]=(0,r.useState)(null);if(f)throw f;return a[0]!==p||a[1]!==u||a[2]!==o||a[3]!==d||a[4]!==c?(e=()=>{if(u){let{intent:e,params:t,payload:n}=u,r=!1;return(async function(){let{id:i,type:a}=await q(p,"string"==typeof t.id?t.id:void 0,"string"==typeof t.type?t.type:void 0);if(r)return;let l=await W({intent:e,params:{...t,id:i,type:a},payload:n,rootPaneNode:d,structureContext:c});r||o({panes:l},{replace:!0})})().catch(h),()=>{r=!0}}},t=[p,u,o,d,c],a[0]=p,a[1]=u,a[2]=o,a[3]=d,a[4]=c,a[5]=e,a[6]=t):(e=a[5],t=a[6]),(0,r.useEffect)(e,t),null});function Z(e){let t="string"==typeof e.intent?e.intent:void 0;return t?{intent:t,params:(0,i.isRecord)(e.params)?e.params:Q,payload:e.payload}:void 0}let ee=A.styled.span`
  &:not(:last-child)::after {
    content: ' âž ';
    opacity: 0.5;
  }
`;function et(e){let r,l,s,u,d,c,p,f,h,m,x,g,y,I,P,b,v,w,j,S,_,E,T,k,A,z,C,L,O,M,B=(0,n.c)(74),{error:G}=e;if(!(G instanceof D))throw G;let{cause:W}=G,{t:F}=(0,i.useTranslation)(o.structureLocaleNamespace),H=W?.stack||G.stack;B[0]!==W||B[1]!==G.message||B[2]!==H?(r=H&&!(W instanceof o.SerializeError)&&!G.message.includes("Module build failed:"),B[0]=W,B[1]=G.message,B[2]=H,B[3]=r):r=B[3];let U=r;if(B[4]!==W||B[5]!==G.helpId||B[6]!==F){let e,n=W instanceof o.SerializeError?W.path:[];c=W instanceof o.SerializeError&&W.helpId||G.helpId,d=er,u=$.Card,p="fill",f="auto",h=4,m="border",x="critical",s=$.Container,B[25]!==F?(e=F("structure-error.header.text"),B[25]=F,B[26]=e):e=B[26],B[27]!==e?(j=(0,t.jsx)($.Heading,{as:"h2",children:e}),B[27]=e,B[28]=j):j=B[28],l=$.Card,g=4,y=4,I=2,P="auto",b=1,v="inherit",w=n.length>0&&(0,t.jsxs)($.Stack,{space:2,children:[(0,t.jsx)($.Text,{size:1,weight:"medium",children:F("structure-error.structure-path.label")}),(0,t.jsx)($.Code,{children:n.slice(1).map(en)})]}),B[4]=W,B[5]=G.helpId,B[6]=F,B[7]=l,B[8]=s,B[9]=u,B[10]=d,B[11]=c,B[12]=p,B[13]=f,B[14]=h,B[15]=m,B[16]=x,B[17]=g,B[18]=y,B[19]=I,B[20]=P,B[21]=b,B[22]=v,B[23]=w,B[24]=j}else l=B[7],s=B[8],u=B[9],d=B[10],c=B[11],p=B[12],f=B[13],h=B[14],m=B[15],x=B[16],g=B[17],y=B[18],I=B[19],P=B[20],b=B[21],v=B[22],w=B[23],j=B[24];return B[29]!==F?(S=F("structure-error.error.label"),B[29]=F,B[30]=S):S=B[30],B[31]!==S?(_=(0,t.jsx)($.Text,{size:1,weight:"medium",children:S}),B[31]=S,B[32]=_):_=B[32],B[33]!==G.message||B[34]!==U||B[35]!==H?(E=U?H.replace(/\(\.\.\.\)\./g,`(...)
  .`).replace(/__WEBPACK_IMPORTED_MODULE_\d+_+/g,"").replace(/___default\./g,".").replace(RegExp(` \\(https?:\\/\\/${window.location.host}`,"g")," ("):G.message,B[33]=G.message,B[34]=U,B[35]=H,B[36]=E):E=B[36],B[37]!==E?(T=(0,t.jsx)($.Code,{children:E}),B[37]=E,B[38]=T):T=B[38],B[39]!==_||B[40]!==T?(k=(0,t.jsxs)($.Stack,{marginTop:4,space:2,children:[_,T]}),B[39]=_,B[40]=T,B[41]=k):k=B[41],B[42]!==c||B[43]!==F?(A=c&&(0,t.jsx)($.Box,{marginTop:4,children:(0,t.jsx)($.Text,{children:(0,t.jsx)("a",{href:(0,N.generateHelpUrl)(c),rel:"noopener noreferrer",target:"_blank",children:F("structure-error.docs-link.text")})})}),B[42]=c,B[43]=F,B[44]=A):A=B[44],B[45]!==F?(z=F("structure-error.reload-button.text"),B[45]=F,B[46]=z):z=B[46],B[47]!==d||B[48]!==z?(C=(0,t.jsx)($.Box,{marginTop:4,children:(0,t.jsx)(a.Button,{text:z,icon:R.SyncIcon,tone:"primary",onClick:d})}),B[47]=d,B[48]=z,B[49]=C):C=B[49],B[50]!==l||B[51]!==k||B[52]!==g||B[53]!==A||B[54]!==C||B[55]!==y||B[56]!==I||B[57]!==P||B[58]!==b||B[59]!==v||B[60]!==w?(L=(0,t.jsxs)(l,{marginTop:g,padding:y,radius:I,overflow:P,shadow:b,tone:v,children:[w,k,A,C]}),B[50]=l,B[51]=k,B[52]=g,B[53]=A,B[54]=C,B[55]=y,B[56]=I,B[57]=P,B[58]=b,B[59]=v,B[60]=w,B[61]=L):L=B[61],B[62]!==s||B[63]!==L||B[64]!==j?(O=(0,t.jsxs)(s,{children:[j,L]}),B[62]=s,B[63]=L,B[64]=j,B[65]=O):O=B[65],B[66]!==u||B[67]!==p||B[68]!==f||B[69]!==h||B[70]!==m||B[71]!==x||B[72]!==O?(M=(0,t.jsx)(u,{height:p,overflow:f,padding:h,sizing:m,tone:x,children:O}),B[66]=u,B[67]=p,B[68]=f,B[69]=h,B[70]=m,B[71]=x,B[72]=O,B[73]=M):M=B[73],M}function en(e,n){return(0,t.jsx)(ee,{children:e},`${e}-${n}`)}function er(){window.location.reload()}function ei(){let e,r,a,l,s,u,d,c,p=(0,n.c)(17),{t:f}=(0,i.useTranslation)(o.structureLocaleNamespace);return p[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)($.Box,{children:(0,t.jsx)($.Text,{size:1,children:(0,t.jsx)(R.WarningOutlineIcon,{})})}),p[0]=e):e=p[0],p[1]!==f?(r=f("no-document-types-screen.title"),p[1]=f,p[2]=r):r=p[2],p[3]!==r?(a=(0,t.jsx)($.Text,{as:"h1",size:1,weight:"medium",children:r}),p[3]=r,p[4]=a):a=p[4],p[5]!==f?(l=f("no-document-types-screen.subtitle"),p[5]=f,p[6]=l):l=p[6],p[7]!==l?(s=(0,t.jsx)($.Text,{as:"p",muted:!0,size:1,children:l}),p[7]=l,p[8]=s):s=p[8],p[9]!==f?(u=f("no-document-types-screen.link-text"),p[9]=f,p[10]=u):u=p[10],p[11]!==u?(d=(0,t.jsx)($.Text,{as:"p",muted:!0,size:1,children:(0,t.jsx)("a",{href:"https://www.sanity.io/docs/create-a-schema-and-configure-sanity-studio",target:"_blank",rel:"noreferrer",children:u})}),p[11]=u,p[12]=d):d=p[12],p[13]!==a||p[14]!==s||p[15]!==d?(c=(0,t.jsx)($.Card,{height:"fill",children:(0,t.jsx)($.Flex,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:(0,t.jsx)($.Container,{width:0,children:(0,t.jsx)($.Card,{padding:4,radius:2,shadow:1,tone:"caution",children:(0,t.jsxs)($.Flex,{children:[e,(0,t.jsxs)($.Stack,{flex:1,marginLeft:3,space:3,children:[a,s,d]})]})})})})}),p[13]=a,p[14]=s,p[15]=d,p[16]=c):c=p[16],c}let ea=e=>{let t,a,s=(0,n.c)(7),{documentId:u,documentType:d}=e,{selectedReleaseId:c}=(0,i.usePerspective)(),p=(0,i.useEditState)(u,d,"default",c),f=(0,i.useSchema)(),{t:h}=(0,i.useTranslation)(o.structureLocaleNamespace),m=!p?.published&&!p?.draft,x=p?.version||p?.draft||p?.published,g=f.get(d),{value:y,isLoading:I}=(0,i.unstable_useValuePreview)({enabled:!!x,schemaType:g,value:x}),{lastRevisionDocument:P}=(0,l.useDocumentLastRev)(u,d),b=P&&!x?"":m?h("browser-document-title.new-document",{schemaType:g?.title||g?.name}):y?.title||h("browser-document-title.untitled-document"),v=p.ready&&!I,w=es(b);return s[0]!==w||s[1]!==v?(t=()=>{v&&(document.title=w)},s[0]=w,s[1]=v,s[2]=t):t=s[2],s[3]!==b||s[4]!==w||s[5]!==v?(a=[b,v,w],s[3]=b,s[4]=w,s[5]=v,s[6]=a):a=s[6],(0,r.useEffect)(t,a),null},el=e=>{let t,i,a=(0,n.c)(5),{title:l}=e,o=es(l);return a[0]!==o?(t=()=>{document.title=o},a[0]=o,a[1]=t):t=a[1],a[2]!==o||a[3]!==l?(i=[o,l],a[2]=o,a[3]=l,a[4]=i):i=a[4],(0,r.useEffect)(t,i),null},eo=e=>{var r;let i,a=(0,n.c)(8),{resolvedPanes:o}=e;if(!o?.length)return null;let s=o[o.length-1];if(s===l.LOADING_PANE){let e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(el,{}),a[0]=e):e=a[0],e}if((r=s)!==l.LOADING_PANE&&"document"===r.type){let e;if(s?.title){let e;return a[1]!==s.title?(e=(0,t.jsx)(el,{title:s.title}),a[1]=s.title,a[2]=e):e=a[2],e}return a[3]!==s.options.id||a[4]!==s.options.type?(e=(0,t.jsx)(ea,{documentId:s.options.id,documentType:s.options.type}),a[3]=s.options.id,a[4]=s.options.type,a[5]=e):e=a[5],e}let u=s?.title;return a[6]!==u?(i=(0,t.jsx)(el,{title:u}),a[6]=u,a[7]=i):i=a[7],i};function es(e){let t,r=(0,n.c)(3),i=(0,l.useStructureTool)().structureContext.title;return r[0]!==e||r[1]!==i?(t=[e,i].filter(eu),r[0]=e,r[1]=i,r[2]=t):t=r[2],t.join(" | ")}function eu(e){return e}let ed=(0,A.styled)(l.PaneLayout)`
  min-height: 100%;
  min-width: 320px;
`,ec=(0,z.isHotkey)("mod+s"),ep=(0,r.memo)(function(e){let a,o,d,c,f,h,g,y,P,b,T,R,A,z,L,B,W,J=(0,n.c)(48),{onPaneChange:Y}=e,{push:q}=(0,k.useToast)(),Q=(0,i.useSchema)(),{navigate:X}=(0,s.useRouter)(),Z=(0,s.useRouterState)(),{layoutCollapsed:ee,setLayoutCollapsed:et}=(0,l.useStructureTool)(),en=function(){let e,t,i,a,o,u=(0,n.c)(15),[d,c]=(0,r.useState)(),[f,h]=(0,r.useState)(null);if(d)throw d;let{structureContext:g,rootPaneNode:y}=(0,l.useStructureTool)();u[0]===Symbol.for("react.memo_cache_sentinel")?(e={paneDataItems:[],resolvedPanes:[],routerPanes:[]},u[0]=e):e=u[0];let[P,b]=(0,r.useState)(e),T=function(){let e,t,i,a=(0,n.c)(6),[l]=(0,r.useState)(K);a[0]!==l?(e=l.asObservable().pipe((0,v.map)(U)),a[0]=l,a[1]=e):e=a[1];let o=e,{state:u}=(0,s.useRouter)();return a[2]!==u||a[3]!==l?(t=()=>{l.next(u)},i=[u,l],a[2]=u,a[3]=l,a[4]=t,a[5]=i):(t=a[4],i=a[5]),(0,r.useEffect)(t,i),o}();if(u[1]!==y||u[2]!==T||u[3]!==g?(t=()=>{let e=(function({routerPanesStream:e,rootPaneNode:t,initialCacheState:n={cacheKeysByFlatIndex:[],flattenedRouterPanes:[],resolvedPaneCache:new Map,resolvePane:()=>m.NEVER},structureContext:r}){return e.pipe((0,v.map)(e=>[[{id:"root"}],...e]),(0,v.map)(e=>e.flatMap((e,t)=>e.map((e,n)=>({routerPaneSibling:e,groupIndex:t,siblingIndex:n}))).map((e,t)=>({...e,flatIndex:t}))),(0,w.startWith)([]),(0,j.operate)(function(e,t){var n,r=!1;e.subscribe((0,S.createOperatorSubscriber)(t,function(e){var i=n;n=e,r&&t.next([i,e]),r=!0}))}),(0,v.map)(([e,t])=>{for(let n=0;n<t.length;n++){let r=e[n],i=t[n];if(!(0,C.default)(r,i))return{flattenedRouterPanes:t,diffIndex:n}}return{flattenedRouterPanes:t,diffIndex:t.length}}),(0,_.scan)((e,t)=>{let{cacheKeysByFlatIndex:n,resolvedPaneCache:r}=e,{flattenedRouterPanes:i,diffIndex:a}=t,l=n.slice(0,a+1),o=n.slice(a+1),s=new Set(l.flatMap(e=>Array.from(e)));for(let e of o.flatMap(e=>Array.from(e)).filter(e=>!s.has(e)))r.delete(e);return{flattenedRouterPanes:i,cacheKeysByFlatIndex:n,resolvedPaneCache:r,resolvePane:M(e=>(t,i,a)=>{let l=t&&`${O(t)}-contextHash(${JSON.stringify({id:i.id,parentId:parent&&O(parent),path:i.path,index:i.index,splitIndex:i.splitIndex,serializeOptionsIndex:i.serializeOptions?.index,serializeOptionsPath:i.serializeOptions?.path})})`,o=l&&r.get(l);if(o)return o;let s=e(t,i,a);if(!l)return s;let u=n[a]||new Set;return u.add(l),n[a]=u,r.set(l,s),s})}},n),(0,I.switchMap)(({flattenedRouterPanes:e,resolvePane:n})=>(function e({unresolvedPane:t,flattenedRouterPanes:n,parent:r,path:i,resolvePane:a,structureContext:l}){let[o,...s]=n,u=s[0],d={id:o.routerPaneSibling.id,splitIndex:o.siblingIndex,parent:r,path:[...i,o.routerPaneSibling.id],index:o.flatIndex,params:o.routerPaneSibling.params||{},payload:o.routerPaneSibling.payload,structureContext:l};try{return a(t,d,o.flatIndex).pipe((0,I.switchMap)(n=>{let c,f={type:"resolvedMeta",...o,paneNode:n,path:d.path},h=s.map((e,t)=>({type:"loading",path:[...d.path,...s.slice(t).map((t,n)=>`[${e.flatIndex+n}]`)],paneNode:null,...e}));return s.length?(c=u?.routerPaneSibling.id.startsWith("__edit__")?e({unresolvedPane:F,flattenedRouterPanes:s,parent:r,path:d.path,resolvePane:a,structureContext:l}):o.groupIndex===u?.groupIndex?e({unresolvedPane:t,flattenedRouterPanes:s,parent:r,path:i,resolvePane:a,structureContext:l}):e({unresolvedPane:"function"==typeof n.child?G(n,"child"):n.child,flattenedRouterPanes:s,parent:n,path:d.path,resolvePane:a,structureContext:l}),(0,x.concat)((0,p.of)([f,...h]),c.pipe((0,v.map)(e=>[f,...e])))):(0,p.of)([f])}))}catch(e){if(e instanceof D&&(e.context&&console.warn(`Pane resolution error at index ${e.context.index}${e.context.splitIndex>0?` for split pane index ${e.context.splitIndex}`:""}: ${e.message}${e.helpId?` - see ${(0,N.generateHelpUrl)(e.helpId)}`:""}`,e),"structure-item-returned-no-child"===e.helpId))return(0,p.of)([]);throw e}})({unresolvedPane:t,flattenedRouterPanes:e,parent:null,path:[],resolvePane:n,structureContext:r}))).pipe((0,_.scan)((e,t)=>t.map((t,n)=>{let r=e[n];return r&&"loading"===t.type&&r.routerPaneSibling.id===t.routerPaneSibling.id?r:t}),[]),(0,E.distinctUntilChanged)((e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<t.length;n++){let r=e[n],i=t[n];if(H(r)!==H(i))return!1}return!0}))})({rootPaneNode:y,routerPanesStream:T,structureContext:g}).pipe((0,v.map)(V)).subscribe({next:e=>b(e),error:e=>c(e)});return()=>e.unsubscribe()},i=[y,T,g],u[1]=y,u[2]=T,u[3]=g,u[4]=t,u[5]=i):(t=u[4],i=u[5]),(0,r.useEffect)(t,i),u[6]!==P.paneDataItems||u[7]!==f){let e;u[9]!==f?(e=e=>({...e,maximized:!!f&&e.key===f.key}),u[9]=f,u[10]=e):e=u[10],a=P.paneDataItems.map(e),u[6]=P.paneDataItems,u[7]=f,u[8]=a}else a=u[8];let R=a;return u[11]!==P||u[12]!==f||u[13]!==R?(o={...P,paneDataItems:R,maximizedPane:f,setMaximizedPane:h},u[11]=P,u[12]=f,u[13]=R,u[14]=o):o=u[14],o}(),{paneDataItems:er,resolvedPanes:ea,setMaximizedPane:el,maximizedPane:es}=en,eu=(0,s.useRouterState)(ef),{sanity:ep}=(0,$.useTheme)(),{media:ex}=ep,[eg,ey]=(0,r.useState)(null);J[0]!==et?(a=()=>et(!0),J[0]=et,J[1]=a):a=J[1];let eI=a;J[2]!==et?(o=()=>et(!1),J[2]=et,J[3]=o):o=J[3];let eP=o;if(J[4]!==er){let e=er.findLastIndex(eh);d=-1===e?er:er.slice(e).filter(t=>t.groupIndex<=er[e].groupIndex),J[4]=er,J[5]=d}else d=J[5];let eb=d;J[6]!==Y||J[7]!==ea?(c=()=>{ea.length&&Y(ea)},f=[Y,ea],J[6]=Y,J[7]=ea,J[8]=c,J[9]=f):(c=J[8],f=J[9]),(0,r.useEffect)(c,f),J[10]!==q?(h=()=>{let e=e=>{ec(e)&&(e.preventDefault(),q({closable:!0,id:"auto-save-message",status:"info",title:"Your work is automatically saved!",duration:4e3}))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},g=[q],J[10]=q,J[11]=h,J[12]=g):(h=J[11],g=J[12]),(0,r.useEffect)(h,g);let ev=Q._original?.types.some(i._isCustomDocumentTypeDefinition);J[13]!==X||J[14]!==Z?.panes||J[15]!==el?(y=e=>{if(!e)return;let t=Z?.panes||[];if(e.maximized){el(null),X({panes:t});return}if(e.pane!==l.LOADING_PANE&&"document"===e.pane.type){let n=t.slice(0,e.groupIndex);el(e),X({panes:n})}},J[13]=X,J[14]=Z?.panes,J[15]=el,J[16]=y):y=J[16];let ew=y,ej=(0,r.useRef)(-1);if(J[17]!==es||J[18]!==er||J[19]!==el?(P=()=>{let e=er.findIndex(em),t=ej.current;if(ej.current=e,es){if(es.pane!==l.LOADING_PANE&&"document"!==es.pane.type)return void el(null);if(-1!==e&&e!==t)return void el(er[e]);er.some(e=>e.key===es.key)||el(er.find(e=>e.groupIndex===es.groupIndex&&e.siblingIndex===es.siblingIndex&&e.pane!==l.LOADING_PANE&&"document"===e.pane.type)||null)}},b=[es,er,el],J[17]=es,J[18]=er,J[19]=el,J[20]=P,J[21]=b):(P=J[20],b=J[21]),(0,r.useEffect)(P,b),!ev){let e;return J[22]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(ei,{}),J[22]=e):e=J[22],e}let eS=eg||null,e_=ee?void 0:"fill",eE=ex[1];if(J[23]!==ew||J[24]!==eb){let e;J[26]!==ew?(e=e=>{let{active:n,childItemId:i,groupIndex:a,itemId:o,key:s,pane:u,index:d,params:c,path:p,payload:f,siblingIndex:h,selected:m,maximized:x}=e;return(0,t.jsx)(r.Fragment,{children:u===l.LOADING_PANE?(0,t.jsx)(l.LoadingPane,{paneKey:s,path:p,selected:m}):(0,t.jsx)(l.StructureToolPane,{active:n,groupIndex:a,index:d,pane:u,childItemId:i,itemId:o,paneKey:s,params:c,payload:f,path:p,selected:m,siblingIndex:h,maximized:x,onSetMaximizedPane:()=>ew(e)})},`${u===l.LOADING_PANE?"loading":u.type}-${d}`)},J[26]=ew,J[27]=e):e=J[27],T=eb.map(e),J[23]=ew,J[24]=eb,J[25]=T}else T=J[25];return J[28]!==eu||J[29]!==er.length?(R=er.length<=1&&eu&&(0,t.jsx)(l.LoadingPane,{paneKey:"intent-resolver"}),J[28]=eu,J[29]=er.length,J[30]=R):R=J[30],J[31]!==eI||J[32]!==eP||J[33]!==ex[1]||J[34]!==e_||J[35]!==T||J[36]!==R?(A=(0,t.jsxs)(ed,{flex:1,height:e_,minWidth:eE,onCollapse:eI,onExpand:eP,children:[T,R]}),J[31]=eI,J[32]=eP,J[33]=ex[1],J[34]=e_,J[35]=T,J[36]=R,J[37]=A):A=J[37],J[38]!==ea?(z=(0,t.jsx)(eo,{resolvedPanes:ea}),J[38]=ea,J[39]=z):z=J[39],J[40]===Symbol.for("react.memo_cache_sentinel")?(L=(0,t.jsx)("div",{"data-portal":"",ref:ey}),J[40]=L):L=J[40],J[41]!==eS||J[42]!==A||J[43]!==z?(B=(0,t.jsxs)($.PortalProvider,{element:eS,children:[A,z,L]}),J[41]=eS,J[42]=A,J[43]=z,J[44]=B):B=J[44],J[45]!==en||J[46]!==B?(W=(0,t.jsx)(u.ResolvedPanesProvider,{value:en,children:B}),J[45]=en,J[46]=B,J[47]=W):W=J[47],W});function ef(e){return"string"==typeof e.intent}function eh(e){return e.maximized}function em(e){return e.selected}function ex(e){let s,u,d,c,p,f,h,m=(0,n.c)(14),{tool:x}=e,{options:g}=x,{unstable_sources:y}=(0,i.useWorkspace)(),[I]=y;m[0]!==g?(s=g||{},m[0]=g,m[1]=s):s=m[1];let{source:P,defaultDocumentNode:b,structure:v}=s;m[2]===Symbol.for("react.memo_cache_sentinel")?(u=[],m[2]=u):u=m[2],(0,r.useEffect)(eg,u),m[3]===Symbol.for("react.memo_cache_sentinel")?(d={error:null},m[3]=d):d=m[3];let[w,j]=(0,r.useState)(d),{error:S}=w;if(S){let e;return m[4]!==S?(e=(0,t.jsx)(et,{error:S}),m[4]=S,m[5]=e):e=m[5],e}let _=P||I.name;return m[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(ep,{onPaneChange:l.setActivePanes}),p=(0,t.jsx)(X,{}),m[6]=c,m[7]=p):(c=m[6],p=m[7]),m[8]!==b||m[9]!==v?(f=(0,t.jsxs)(o.StructureToolProvider,{defaultDocumentNode:b,structure:v,children:[c,p]}),m[8]=b,m[9]=v,m[10]=f):f=m[10],m[11]!==_||m[12]!==f?(h=(0,t.jsx)(a.ErrorBoundary,{onCatch:j,children:(0,t.jsx)(i.SourceProvider,{name:_,children:f})}),m[11]=_,m[12]=f,m[13]=h):h=m[13],h}function eg(){return(0,l.setActivePanes)([]),ey}function ey(){return(0,l.setActivePanes)([])}e.s(["default",()=>ex],80044)}]);